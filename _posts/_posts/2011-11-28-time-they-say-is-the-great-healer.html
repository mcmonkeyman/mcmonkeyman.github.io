---
layout: post
title: Time they say is the great healer...
date: 2011-11-28 18:47:55.000000000 -05:00
type: post
published: true
status: publish
categories:
- JavaScript
tags: []
meta:
  _edit_last: '16527278'
  _oembed_8de93fb7178d04cac65ca780578feb85: "{{unknown}}"
  _oembed_dc3cbd5b6a108301c4dee02c0615dad0: "{{unknown}}"
  _oembed_2480dcc0fa34e7bf45d154b672862448: "{{unknown}}"
author:
  login: eoinoconnor
  email: eoin4real@gmail.com
  display_name: Eoin O'Connor
  first_name: ''
  last_name: ''
---
<p>I am currently in the states and as a result I have been communicating with my family using Skype. With the O'Connor clan spread across three time zones I have been confused by the time difference on more than a few occasions. Sure I could just check on google whenever I wanted to call but where's the fun in that:)</p>
<p>In this post I will describe how I built <a href="www.eoin.ie/tco.html.">a page</a> that displays each family members time and locations in a clear, intuitive and fun way.</p>
<p>[soundcloud url="http://api.soundcloud.com/tracks/19557044" params="show_comments=true&amp;auto_play=false&amp;color=ff7700" width="100%" height="81" ]</p>
<p><strong>1. </strong><strong>Raphaël and an updated Analog clock.</strong></p>
<p><strong></strong>Raphaël is a JavaScript vector library. I used an existing example of an analog clock which i got from <a href="http://www.emanueleferonato.com/2010/12/11/javascript-analog-clock-with-no-images-and-no-css/">this cool site. </a>Initially it didn't work  with the current version of the Raphaël library and I had to update the code so it worked correctly. The issue was the rotate function, which appears to have changed in the more recent version of the Raphaël library. The new rotate function is relative to the vectors current position, whereas the old rotate function was relative to the initial vector position.</p>
<p>I like this clock as it works using only JavaScript as opposed to a Flash version.</p>
<p><strong>2. OO in javascript</strong></p>
<p><strong></strong>Next step was to read a couple of articles on OO in JS. I found the concept of no classes a bit unusual, <a title="http://www.javascriptkit.com/javatutors/oopjs.shtml" href="http://www.javascriptkit.com/javatutors/oopjs.shtml">http://www.javascriptkit.com/javatutors/oopjs.shtml</a> was a very useful article. I also bookmarked <a href="http://www.2ality.com/2011/11/javascript-classes.html">an article</a> for further reading about the fundamental differences between JS and class based languages.</p>
<p><strong>3. Debugging in JS</strong></p>
<p>While applying the principles learned in section 2  to make the code more object orientated I got my feet wet with the chrome <a href="http://stackoverflow.com/questions/66420/how-do-you-launch-the-javascript-debugger-in-google-chrome">JS console for debugging</a>.</p>
<p><a href="https://getfirebug.com/downloads">Firebug</a> appears like it could be an option worth considering in the future.<br />
<strong>4. Time out function issues</strong></p>
<p>While writing the code I had issues with the setInterval() method. It appears that when using it with OO code the method passed in to set Interval would be called from a global scope and not the class instance scope . I used the work around at <a href="http://www.vonloesch.de/node/32">http://www.vonloesch.de/node/32</a> which allowed me to get  multiple clock instances displaying and updating correctly.</p>
<p>For more in depth understanding <a href="http://www.switchonthecode.com/tutorials/javascript-tutorial-using-setinterval-and-settimeout">this article </a> was also very informative on this topic.<br />
<strong>5. Float the divs</strong></p>
<p>Being out of practice with css It took me 5 minutes(too long) to figure out to float the divs to get my clock displaying side by side. <a href="http://www.switchonthecode.com/tutorials/javascript-tutorial-using-setinterval-and-settimeout">This article</a> got me going in the right direction.</p>
<p><strong>6. Time: it's all relative baby.</strong></p>
<p>Lifted the code from<a href="http://javascript.about.com/library/bltime1.htm"> this script</a> and adjusted to suit my needs eg: to get the clocks displaying times in different time zones.</p>
<p><strong>7. Restructure</strong></p>
<p>Did a bit of restructuring, based the layout on the webpage <a href="http://html5boilerplate.com/">http://html5boilerplate.com/</a> .</p>
<p><strong>8. Notes</strong></p>
<ul>
<li>There appears to be an issue with synchronisation at times. Possibly because the library is asynchronous.</li>
<li>It could be prettier, I'm happy that there is enough functionality and I will make it look good in the future if I can find the time.</li>
<li>I could also improve the code structure as this is only the minimum working version.</li>
<li></li>
</ul>
<div><strong>9. Code</strong></div>
<div></div>
<div>The page is available at <a href="www.eoin.ie/tco.html">www.eoin.ie/tco.html</a>.</div>
<div></div>
<p><strong>10. Versioning</strong></p>
<p>Raphaël 2.0.</p>
